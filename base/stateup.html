<!doctype html>
<html lang="ro-RO">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <meta property="og:url" content="https://react.md/base/stateup.html"><meta property="og:site_name" content="React.js - Curs de Dezvoltare"><meta property="og:title" content="Ridicarea stării"><meta property="og:description" content="Ridicarea stării În lecția anterioară, am vorbit despre ciclul de viață al componentelor. Acum să vedem cum în React datele sunt ridicate de la componente copil la cele părinte...."><meta property="og:type" content="article"><meta property="og:locale" content="ro-RO"><meta property="og:updated_time" content="2024-03-09T11:18:09.000Z"><meta property="article:modified_time" content="2024-03-09T11:18:09.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Ridicarea stării","image":[""],"dateModified":"2024-03-09T11:18:09.000Z","author":[]}</script><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/react.svg"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="manifest" href="/manifest.json"><link rel="apple-touch-icon" href="/android-chrome-512x512.png"><link rel="mask-icon" href="react.svg" color="#3eaf7c"><meta name="msapplication-TileImage" content="/android-chrome-192x192.png"><meta name="msapplication-TileColor" content="#000000"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Ridicarea stării | React.js - Curs de Dezvoltare</title><meta name="description" content="Ridicarea stării În lecția anterioară, am vorbit despre ciclul de viață al componentelor. Acum să vedem cum în React datele sunt ridicate de la componente copil la cele părinte....">
    <link rel="preload" href="/assets/style-0tgum8VE.css" as="style"><link rel="stylesheet" href="/assets/style-0tgum8VE.css">
    <link rel="modulepreload" href="/assets/app-KJPG7_2i.js"><link rel="modulepreload" href="/assets/stateup.html-DeAdaUkS.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="logo" src="/./react.svg" alt="React.js - Curs de Dezvoltare"><span class="site-name can-hide" aria-hidden="true">React.js - Curs de Dezvoltare</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Principală"><!--[--><!--]--> Principală <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/introduction/introduction.html" aria-label="Introducere"><!--[--><!--]--> Introducere <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/base/history.html" aria-label="Curs React.js"><!--[--><!--]--> Curs React.js <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Nikba-Creative-Studio/React-Nikba" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Principală"><!--[--><!--]--> Principală <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/introduction/introduction.html" aria-label="Introducere"><!--[--><!--]--> Introducere <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/base/history.html" aria-label="Curs React.js"><!--[--><!--]--> Curs React.js <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Nikba-Creative-Studio/React-Nikba" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Parte introductivă <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/introduction/introduction.html" aria-label="Introducere în curs"><!--[--><!--]--> Introducere în curs <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/introduction/program.html" aria-label="Programul cursului"><!--[--><!--]--> Programul cursului <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Fundamentele React <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/base/history.html" aria-label="Istoria creării React"><!--[--><!--]--> Istoria creării React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/connect.html" aria-label="Conectarea React"><!--[--><!--]--> Conectarea React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/render.html" aria-label="Rendering în React"><!--[--><!--]--> Rendering în React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/virtualdom.html" aria-label="Virtual DOM"><!--[--><!--]--> Virtual DOM <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/jsx.html" aria-label="Ce este JSX"><!--[--><!--]--> Ce este JSX <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/decomposition.html" aria-label="Decompunerea UI"><!--[--><!--]--> Decompunerea UI <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/components.html" aria-label="Componente în React"><!--[--><!--]--> Componente în React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/composition.html" aria-label="Compoziția și extragerea componentelor în React"><!--[--><!--]--> Compoziția și extragerea componentelor în React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/props.html" aria-label="Utilizare avansată a props-urilor"><!--[--><!--]--> Utilizare avansată a props-urilor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/decompositionprops.html" aria-label="Descompunerea props-urilor"><!--[--><!--]--> Descompunerea props-urilor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/advancedjsx.html" aria-label="Utilizarea avansată a JSX. React.Children"><!--[--><!--]--> Utilizarea avansată a JSX. React.Children <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/state.html" aria-label="Starea internă a componentelor"><!--[--><!--]--> Starea internă a componentelor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/stateupdate.html" aria-label="Cum să modifici starea în componentele React"><!--[--><!--]--> Cum să modifici starea în componentele React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/lists.html" aria-label="Liste în React. Proprietatea key"><!--[--><!--]--> Liste în React. Proprietatea key <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/classcomponent.html" aria-label="Componente de clasă în detalii"><!--[--><!--]--> Componente de clasă în detalii <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/lifecycle.html" aria-label="Ciclul de viață al componentelor"><!--[--><!--]--> Ciclul de viață al componentelor <!--[--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item active" href="/base/stateup.html" aria-label="Ridicarea stării"><!--[--><!--]--> Ridicarea stării <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/proptypes.html" aria-label="PropTypes - Verificarea tipurilor"><!--[--><!--]--> PropTypes - Verificarea tipurilor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/base/conclusion.html" aria-label="Concluzie"><!--[--><!--]--> Concluzie <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Instrumentarul React <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/tools/introduction.html" aria-label="Introducere în instrumentarul React"><!--[--><!--]--> Introducere în instrumentarul React <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/infrastucture.html" aria-label="Infrastructura aplicației - CRA"><!--[--><!--]--> Infrastructura aplicației - CRA <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/appstructure.html" aria-label="Structura aplicației"><!--[--><!--]--> Structura aplicației <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/import.html" aria-label="Importul de module"><!--[--><!--]--> Importul de module <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/images.html" aria-label="Utilizarea imaginilor"><!--[--><!--]--> Utilizarea imaginilor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/css.html" aria-label="CSS-Module. Composes"><!--[--><!--]--> CSS-Module. Composes <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/fonts.html" aria-label="Utilizarea fonturilor"><!--[--><!--]--> Utilizarea fonturilor <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/debbuging.html" aria-label="Depanarea aplicației"><!--[--><!--]--> Depanarea aplicației <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/infrastructure.html" aria-label="Compilarea aplicației"><!--[--><!--]--> Compilarea aplicației <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/tools/conclusion.html" aria-label="Concluzie"><!--[--><!--]--> Concluzie <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ridicarea-starii" tabindex="-1"><a class="header-anchor" href="#ridicarea-starii"><span>Ridicarea stării</span></a></h1><p>În lecția anterioară, am vorbit despre ciclul de viață al componentelor. Acum să vedem cum în React datele sunt ridicate de la componente copil la cele părinte.</p><p>Mecanismul de ridicare a stării poate fi util când:</p><ul><li>este necesar să modificăm datele unui component în altul,</li><li>mai multe componente afișează aceleași date care se schimbă.</li></ul><p>Unele componente pot influența aceste date, în timp ce altele trebuie să reacționeze imediat la schimbări, reîmprospătând marcajul.</p><p>În acest caz, este convenabil să ridicați starea componentelor interconectate la părintele comun. Atunci, în toate părțile interfeței, vor fi întotdeauna afișate datele actuale și va apărea posibilitatea de a modifica starea din orice component copil.</p><p>Să ne ocupăm de ridicarea stării în React pe exemplul creării unui coș de cumpărături pentru un magazin online.</p><p>Starea coșului arată astfel:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Costum spațial&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19345</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Smoothie de țelină&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
			<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Parașută de rezervă&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">1870</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Să simplificăm sarcina și să ne concentrăm pe lucrul cu datele. Coșul nostru este format din trei componente:</p><ol><li>Componentul principal al coșului. Acesta păstrează starea produselor și o transmite componentelor copil.</li><li>Cardul produsului. Acest component conține informații despre produs: numele, cantitatea și prețul său. Din cardul produsului, vom putea influența cantitatea produsului, apăsând pe plus sau minus.</li><li>Componentul care afișează prețul total al cumpărăturilor și permite golirea întregului coș, dacă este necesar. În acest component, vom calcula taxa pe valoarea adăugată (TVA) pentru produsele din coș.</li></ol><p>Să începem de la sfârșitul listei și să creăm un component funcțional cu prețul total și calculul TVA:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token comment">// Folosim posibilitățile de destrucțurare a obiectului props</span>
<span class="token comment">// pentru comoditate și concizie și extragem imediat total din props:</span>
<span class="token keyword">const</span> <span class="token function-variable function">CartTotal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> total <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>total<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Inclusiv TVA: </span><span class="token punctuation">{</span>total <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Goliți coșul</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Componentul <code>CartTotal</code> primește prețul total sub formă de prop - <code>total</code>.</p><p>Acum să mergem în sus pe lista de componente și să facem cardul produsului:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Product</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> product <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>price<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Componentul <code>Product</code> primește din props datele despre produs, pe care apoi le transformă în marcaj.</p><p>Să terminăm cu lista de componente și să scriem componentul părinte - coșul:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Cart</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Costum spațial&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19345</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Smoothie de țelină&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Parașută de rezervă&quot;</span><span class="token punctuation">,</span>

				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">1870</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
			<span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> p<span class="token punctuation">.</span>price <span class="token operator">*</span> p<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
			<span class="token number">0</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span></span>
						<span class="token attr-name">product</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span></span>
						<span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span>
					<span class="token punctuation">/&gt;</span></span>
				<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartTotal</span></span> <span class="token attr-name">total</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>total<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Acest component este puțin mai complicat decât cele anterioare, deoarece are o stare internă și folosește alte componente în marcaj. Vă recomandăm să ridicați starea comună la cel mai apropiat strămoș comun, în acest caz <code>Cart</code>. Pentru randarea listei de produse, folosim componentul <code>Product</code> scris anterior și, cu ajutorul unui ciclu, transformăm starea în marcaj. Pentru afișarea prețului total și a TVA-ului, am folosit de asemenea un component - <code>CartTotal</code>.</p><p>Rețineți că TVA-ul este calculat în interiorul componentului <code>CartTotal</code>, iar suma totală a comenzii este transmisă componentului deja calculată.</p><p>Pe de o parte, am fi putut calcula totul în componentul <code>Cart</code>, dar calculul TVA-ului este responsabilitatea componentului <code>CartTotal</code>.</p><p>Pe de altă parte, am fi putut transmite în <code>CartTotal</code> starea întregului coș, folosind <code>this.state.cart</code>, și să calculăm în interiorul său <code>total</code> și TVA-ul. Dar nici asta nu o facem, pentru că componentului <code>CartTotal</code> nu îi trebuie toate informațiile despre produse: cantitatea lor, numele și alte entități.</p><p>Încercați să transmiteți componentului doar props-urile de care are nevoie. Astfel de componente sunt mai ușor de întreținut și reutilizat.</p><p>Acum, coșul afișează produsele, suma totală a comenzii și toate butoanele necesare. Dar apăsarea pe aceste butoane nu duce la nimic - lipsesc manipulatorii <code>onClick</code>. Le vom adăuga mai târziu, dar acum să vedem cum să modificăm cantitatea de produse sau să golim întregul coș din componente copil în componentul părinte <code>Cart</code>.</p><p>Din lecția despre <a class="route-link" href="/base/advancedjsx.html">utilizarea avansată a props-urilor</a>, ați aflat că în calitate de props-uri se pot transmite expresii JavaScript. Funcțiile sunt de asemenea expresii JavaScript, și le putem transmite de la componentul părinte la cele copil. Exact astfel componente copil vor putea comunica cu părintele lor.</p><p>Să scriem câteva metode în componentul <code>Cart</code>, pe care le vom transmite componentelor copil. Să începem cu ceva simplu - metoda de resetare a coșului de produse:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token comment">// &lt;Cart /&gt;</span>
<span class="token operator">...</span>
<span class="token function-variable function">clearCart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Apelarea acestei metode golește coșul de produse, atribuind un tablou gol valorii <code>cart</code> în starea componentului.</p><p>Acum să implementăm o metodă mai complexă. Aceasta ar trebui să primească ca intrare un produs din listă și să verifice prin <code>id</code>-ul produsului prezența sa în starea din <code>Cart</code>. Dacă produsul este disponibil, trebuie să verificăm cantitatea sa, furnizată metodei la intrare. Astfel vom înțelege ce să facem cu acest produs. De exemplu, dacă cantitatea produsului furnizat la intrare este zero, acesta trebuie eliminat din starea internă, iar dacă este mai mare de zero, atunci ar trebui să înregistrăm această cantitate în `state</p><p>`:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token comment">// &lt;Cart /&gt;</span>
<span class="token operator">...</span>
<span class="token comment">// Transmitem la intrare produsul</span>
<span class="token function-variable function">updateProduct</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">product</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Găsim indexul produsului în tabloul this.state.cart</span>
    <span class="token keyword">const</span> currentProduct <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">===</span> product<span class="token punctuation">.</span>id
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Dacă indexul produsului este găsit, executăm următorii pași</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentProduct <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Creăm o copie a coșului,</span>
        <span class="token comment">// deoarece originalul stării este imutabil</span>
        <span class="token keyword">const</span> newCart <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// Verificăm că cantitatea produsului transmis la intrare nu este zero:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Înlocuim produsul în copie cu unul nou</span>
            newCart<span class="token punctuation">[</span>currentProduct<span class="token punctuation">]</span> <span class="token operator">=</span> product<span class="token punctuation">;</span>
            <span class="token comment">// Înregistrăm în starea copia actualizată</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> newCart <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Dacă cantitatea produsului transmis la intrare este zero,</span>
            <span class="token comment">// cerem confirmarea de la utilizator</span>
            <span class="token comment">// și înregistrăm rezultatul său în variabila res</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;Ștergeți &quot;</span> <span class="token operator">+</span> product<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// Dacă utilizatorul a confirmat ștergerea produsului,</span>
                <span class="token comment">// îl eliminăm din copie</span>
                newCart<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>currentProduct<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Înregistrăm în starea copia actualizată</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> newCart <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Metodele sunt gata, acum trebuie să le transmitem ca props-uri componentelor copil:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token comment">// &lt;Cart /&gt;</span>
<span class="token operator">...</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> p<span class="token punctuation">.</span>price <span class="token operator">*</span> p<span class="token punctuation">.</span>count<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">product</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span></span>
                    <span class="token attr-name">product</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span></span>
                    <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span>
                    <span class="token attr-name">updateProduct</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateProduct<span class="token punctuation">}</span></span>
                <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartTotal</span></span> <span class="token attr-name">total</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>total<span class="token punctuation">}</span></span> <span class="token attr-name">clearCart</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clearCart<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Am transmis metodele componentului <code>Cart</code> componentelor copil: <code>updateProduct</code> în componentul <code>Product</code> și <code>clearCart</code> în componentul <code>CartTotal</code>.</p><p>A mai rămas doar să pregătim componentele pentru utilizarea noilor props-uri. În interiorul componentului <code>Product</code> se află două butoane: pentru creșterea și scăderea cantității de produs. Vom adăuga manipulatori <code>onClick</code> pentru aceste butoane:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Product</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> product<span class="token punctuation">,</span> updateProduct <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">plus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">updateProduct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token operator">...</span>product<span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> product<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">minus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">updateProduct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token operator">...</span>product<span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> product<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>price<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>minus<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>plus<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vom adăuga funcția <code>updateProduct</code> în props-urile componentului. Vom apela această funcție în cadrul funcțiilor <code>plus</code> și <code>minus</code> și vom transmite în ea produsul, modificând doar cantitatea sa: vom adăuga o unitate de produs în <code>plus</code> și vom reduce cantitatea de produs cu o unitate în <code>minus</code>. În interiorul componentului <code>Product</code> vor fi întotdeauna informații actuale despre cantitatea de produs, deoarece acestea vin din props-uri și nu sunt mutate direct în acest component.</p><p>Acum să finalizăm componentul <code>CartTotal</code>. În el transmitem funcția <code>clearCart</code> - aceasta este o funcție fără argumente, deci o vom aplica direct în manipulatorul <code>onClick</code> pe butonul „Goliți coșul”:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">CartTotal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> total<span class="token punctuation">,</span> clearCart <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>total<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Inclusiv TVA: </span><span class="token punctuation">{</span>total <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clearCart<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Goliți coșul</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>La fel ca în componentul <code>Product</code>, în <code>CartTotal</code> a fost adăugat un nou prop - <code>clearCart</code>. Apăsarea pe butonul „Goliți coșul” va apela metoda componentului părinte <code>Cart</code> și va goli conținutul coșului.</p><p>Priviți ce am obținut:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Product</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> product<span class="token punctuation">,</span> updateProduct <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">plus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">updateProduct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token operator">...</span>product<span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> product<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">minus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">updateProduct</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token operator">...</span>product<span class="token punctuation">,</span>
			<span class="token literal-property property">count</span><span class="token operator">:</span> product<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>price<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>minus<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>plus<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">CartTotal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> total<span class="token punctuation">,</span> clearCart <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>total<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Inclusiv TVA: </span><span class="token punctuation">{</span>total <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clearCart<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Goliți coșul</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Cart</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Costum spațial&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19345</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Smoothie de țelină&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Parașută de rezervă&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">1870</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">updateProduct</span> <span class="token operator">=</span> <span class="token parameter">product</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> currentProduct <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">===</span> product<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>currentProduct <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> newCart <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				newCart<span class="token punctuation">[</span>currentProduct<span class="token punctuation">]</span> <span class="token operator">=</span> product<span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> newCart <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token keyword">const</span> res <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;Ștergeți &quot;</span> <span class="token operator">+</span> product<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					newCart<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>currentProduct<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> newCart <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function-variable function">clearCart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
			<span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc <span class="token operator">+</span> p<span class="token punctuation">.</span>price <span class="token operator">*</span> p<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
			<span class="token number">0</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span></span>
						<span class="token attr-name">product</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span></span>
						<span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span>
						<span class="token attr-name">updateProduct</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>updateProduct<span class="token punctuation">}</span></span>
					<span class="token punctuation">/&gt;</span></span>
				<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartTotal</span></span>
					<span class="token attr-name">total</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>total<span class="token punctuation">}</span></span>
					<span class="token attr-name">clearCart</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clearCart<span class="token punctuation">}</span></span>
				<span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Atât! Coșul nostru este gata. Starea de la componentul părinte „se scufundă” în cele copil, apoi, cu ajutorul props-urilor, urcă înapoi la componentul părinte. Acesta, la rândul său, decide cum să procedeze cu noua stare și doar după aceea toate celelalte componente primesc props-uri actualizate.</p><p>Pentru componentele <code>Product</code> și <code>CartTotal</code>, singura sursă de adevăr este componentul <code>Cart</code>. Adică schimbările care sunt provocate într-un component influențează starea generală a aplicației, iar ceilalți consumatori de date răspund imediat la aceste schimbări. Acest lucru mai este numit și flux unidirecțional de date.</p><p>În această lecție, v-am arătat cum să ridicați starea în susul arborelui de componente. Ați parcurs un drum lung! Înainte vă așteaptă lecția finală a temei, în care vom face un rezumat intermediar și vom merge mai departe.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/Nikba-Creative-Studio/React-Nikba/edit/main/docs/base/stateup.md" rel="noopener noreferrer" target="_blank" aria-label="Editează această pagină pe GitHub"><!--[--><!--]--> Editează această pagină pe GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Ultima actualizare: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contribuitori: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 41567806+Nikba-Creative-Studio@users.noreply.github.com">nikba</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav" aria-label="page navigation"><p class="inner"><span class="prev"><a class="route-link" href="/base/lifecycle.html" aria-label="Ciclul de viață al componentelor"><!--[--><!--]--> Ciclul de viață al componentelor <!--[--><!--]--></a></span><span class="next"><a class="route-link" href="/base/proptypes.html" aria-label="PropTypes - Verificarea tipurilor"><!--[--><!--]--> PropTypes - Verificarea tipurilor <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-KJPG7_2i.js" defer></script>
  </body>
</html>
