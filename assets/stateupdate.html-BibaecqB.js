import{_ as n,o as a,c as s,b as t}from"./app-KJPG7_2i.js";const e={},p=t(`<h1 id="cum-sa-modifici-starea-in-componentele-react" tabindex="-1"><a class="header-anchor" href="#cum-sa-modifici-starea-in-componentele-react"><span>Cum să modifici starea în componentele React</span></a></h1><p>Deja știți că starea internă permite influențarea logicii de funcționare și a redării elementelor. Dar cum să influențezi aceste stări din interiorul componentei, să zicem, la apăsarea unui buton sau la mișcarea cursorului? Să analizăm acest lucru în această lecție.</p><p><code>State</code> are o particularitate - este imutabil. Asta înseamnă că nu îl poți modifica direct (ca și cum ar fi o variabilă) și nu se va produce re-renderizarea DOM-ului.</p><p>Puteți schimba valoarea stării folosind metoda <code>setState</code> din <code>React.Component</code>. Când apelăm această metodă, React &quot;sub capotă&quot; compară starea componentei înainte și după modificări. Dacă React detectează diferențe, ReactDOM va re-renderiza elementul care s-a actualizat. Să examinăm acest lucru pe un exemplu:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ThemeToggle</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&quot;light&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;dark&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;th-light&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;th-dark&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Theme <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme<span class="token punctuation">}</span> is enabled<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;🌚&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;🌞&quot;</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Apăsarea butonului apelează metoda <code>toggleTheme</code>. În interiorul acesteia se apelează <code>setState</code>, unde verificăm ce temă este activată și o schimbăm în cealaltă.</p><h2 id="caracteristicile-metodei-setstate" tabindex="-1"><a class="header-anchor" href="#caracteristicile-metodei-setstate"><span>Caracteristicile metodei <code>setState</code></span></a></h2><p>Metoda <code>setState</code> are câteva particularități importante de cunoscut:</p><ol><li><p>Ca argument, <code>this.setState</code> acceptă fie o funcție, fie starea actualizată:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span>prevState<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sau</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dacă se folosește o funcție, în interior vor fi accesibile stările componentei înainte de actualizare și proprietățile curente ale componentei - <code>props</code>. În unele componente complexe, prop-urile pot fi folosite pentru a implementa o logică variabilă de aplicare a modificărilor. Dar, în practică, veți întâlni rar astfel de utilizări ale metodei <code>setState</code>.</p></li><li><p><code>setState</code> are un al doilea argument, dar acesta este opțional. Ca al doilea argument, puteți trece o funcție de callback. Această funcție va fi apelată când modificările sunt aplicate stării componentei. Al doilea argument al metodei <code>setState</code> ar trebui folosit atunci când este necesar să implementați logare sau o logică complexă secvențială de modificare a stărilor în componente:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myCustomLogger</span><span class="token punctuation">(</span><span class="token string">&quot;Starea componentei s-a schimbat!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dar fiți atenți: nu permiteți un ciclu infinit de actualizări și callback-uri - acest lucru va duce la blocarea browserului.</p></li><li><p>Apelarea <code>setState</code> nu aplică modificările imediat. Aceasta este o metodă asincronă. Un astfel de comportament se numește batch update: permite acumularea modificărilor iminente, pentru a le aplica apoi într-o singură etapă. Acest mecanism ajută la îmbunătățirea performanței - reducând numărul de re-renderizări ale conținutului în browser.</p></li></ol><h2 id="utilizarea-state-impreuna-cu-props" tabindex="-1"><a class="header-anchor" href="#utilizarea-state-impreuna-cu-props"><span>Utilizarea <code>state</code> împreună cu <code>props</code></span></a></h2><p>Imaginați-vă că aveți nevoie să creați un component cu un titlu și un text</p><p>, care pot fi setate prin prop-uri. Textul este ascuns implicit și ar trebui să se dezvăluie/ascundă la apăsarea pe titlu. Să proiectăm un astfel de component în React folosind <code>state</code> și <code>props</code>:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CollapsableTextBlock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">onHeadingClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;CollapsableTextBlock&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onHeadingClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>header<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
				<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">}</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>În acest exemplu, am folosit <code>state</code> al componentei pentru a implementa funcționalitatea de ascundere și dezvăluire a textului, iar <code>props</code> - pentru a umple componenta cu text. Codul acestui component arată astfel:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>CollapsableTextBlock header<span class="token operator">=</span><span class="token string">&quot;Titlu&quot;</span><span class="token operator">&gt;</span>
	Acest text va fi ascuns până la apăsarea pe titlu
<span class="token operator">&lt;</span><span class="token operator">/</span>CollapsableTextBlock<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Starea internă a componentei poate fi folosită ca prop pentru componenta copil. Să modificăm ușor componentul nostru:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">CollapsableTextContent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>toggled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CollapsableTextBlock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">onHeadingClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;CollapsableTextBlock&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onHeadingClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>header<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>CollapsableTextContent toggled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled<span class="token punctuation">}</span><span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>CollapsableTextContent<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>În acest exemplu, am separat marcajul textului și logica apariției acestuia în componenta independentă <code>CollapsableTextContent</code>. Această componentă primește de la componenta părinte <code>CollapsableTextBlock</code> prop-urile <code>children</code> și <code>toggled</code>.</p><p>Trecerea prop-urilor prin mai multe niveluri de componente se numește props drilling. Cu toate acestea, nu ar trebui să abuzați de această metodă de transmitere a prop-urilor prin ierarhia componentelor. Cu o astfel de abordare, apare o mare interdependență între componente, ceea ce duce la scăderea calității codului și a vitezei de dezvoltare. Dacă un prop trece prin trei sau mai multe niveluri de componente - ar trebui să vă gândiți la decompoziția stării și a marcajului. Ne vom întoarce la această problemă și la metodele de soluționare a acesteia.</p><p>Combinând <code>state</code> și <code>props</code>, puteți crea componente flexibile și convenabile.</p><h2 id="utilizarea-setstate-pentru-starea-ierarhica" tabindex="-1"><a class="header-anchor" href="#utilizarea-setstate-pentru-starea-ierarhica"><span>Utilizarea <code>setState</code> pentru starea ierarhică</span></a></h2><p>Uneori este necesar să modificați o proprietate încorporată sau un element al unui tablou, fără a atinge restul. Pentru astfel de cazuri, este convenabil să folosiți operatorul <code>spread</code> (<code>...</code>):</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">NewsPanel</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token comment">// Starea componentei</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;News 1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;News 2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">commentsEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Huckleberry Finn&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">uuid</span><span class="token operator">:</span> <span class="token string">&quot;123e4567-e89b-12d3-a456-426655440000&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">lastActive</span><span class="token operator">:</span> <span class="token number">1614498769824</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Metoda responsabilă pentru adăugarea</span>
	<span class="token function-variable function">addNewPost</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// Calculăm numărul știrii adăugate pe baza numărului curent de știri</span>
			<span class="token keyword">const</span> newPostNumber <span class="token operator">=</span> prevState<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				<span class="token comment">// Păstrăm valorile curente asupra cărora nu efectuăm acțiuni</span>
				<span class="token operator">...</span>prevState<span class="token punctuation">,</span>
				<span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token comment">// Păstrăm lista curentă de știri</span>
					<span class="token operator">...</span>prevState<span class="token punctuation">.</span>posts<span class="token punctuation">,</span>
					<span class="token comment">// Adăugăm în listă o nouă înregistrare cu numărul calculat</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">id</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">News </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>newPostNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
						<span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ID#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>post<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>post<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
					<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
				<span class="token punctuation">{</span><span class="token comment">/* La apăsarea pe buton va fi apelată metoda addNewPost */</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addNewPost<span class="token punctuation">}</span><span class="token operator">&gt;</span>Add news<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>La apăsarea pe buton, în tabloul <code>posts</code> va fi adăugat încă un element. Elementele existente nu vor fi modificate, la fel ca și restul cheilor stării. Nu ar trebui să complicați excesiv starea, încercați să aplicați mai des decompoziția. Acest lucru va face dezvoltarea convenabilă și aplicația performantă.</p><p>În această lecție, ați aflat cum să modificați starea componentelor și să o utilizați împreună cu <code>props</code>. Abilitatea de a lucra cu starea este o abilitate importantă pentru un dezvoltator React.</p>`,25),o=[p];function c(i,l){return a(),s("div",null,o)}const u=n(e,[["render",c],["__file","stateupdate.html.vue"]]),d=JSON.parse('{"path":"/base/stateupdate.html","title":"Cum să modifici starea în componentele React","lang":"ro-RO","frontmatter":{"title":"Cum să modifici starea în componentele React","lang":"ro-RO","description":"Cum să modifici starea în componentele React Deja știți că starea internă permite influențarea logicii de funcționare și a redării elementelor. Dar cum să influențezi aceste stă...","head":[["meta",{"property":"og:url","content":"https://react.md/base/stateupdate.html"}],["meta",{"property":"og:site_name","content":"React.js - Curs de Dezvoltare"}],["meta",{"property":"og:title","content":"Cum să modifici starea în componentele React"}],["meta",{"property":"og:description","content":"Cum să modifici starea în componentele React Deja știți că starea internă permite influențarea logicii de funcționare și a redării elementelor. Dar cum să influențezi aceste stă..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ro-RO"}],["meta",{"property":"og:updated_time","content":"2024-03-09T11:18:09.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-09T11:18:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cum să modifici starea în componentele React\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-09T11:18:09.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Caracteristicile metodei setState","slug":"caracteristicile-metodei-setstate","link":"#caracteristicile-metodei-setstate","children":[]},{"level":2,"title":"Utilizarea state împreună cu props","slug":"utilizarea-state-impreuna-cu-props","link":"#utilizarea-state-impreuna-cu-props","children":[]},{"level":2,"title":"Utilizarea setState pentru starea ierarhică","slug":"utilizarea-setstate-pentru-starea-ierarhica","link":"#utilizarea-setstate-pentru-starea-ierarhica","children":[]}],"git":{"updatedTime":1709983089000,"contributors":[{"name":"nikba","email":"41567806+Nikba-Creative-Studio@users.noreply.github.com","commits":1}]},"filePathRelative":"base/stateupdate.md","autoDesc":true}');export{u as comp,d as data};
