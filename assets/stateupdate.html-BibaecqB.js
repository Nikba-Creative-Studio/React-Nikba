import{_ as n,o as a,c as s,b as t}from"./app-KJPG7_2i.js";const e={},p=t(`<h1 id="cum-sa-modifici-starea-in-componentele-react" tabindex="-1"><a class="header-anchor" href="#cum-sa-modifici-starea-in-componentele-react"><span>Cum s캒 modifici starea 칥n componentele React</span></a></h1><p>Deja 탳ti탵i c캒 starea intern캒 permite influen탵area logicii de func탵ionare 탳i a red캒rii elementelor. Dar cum s캒 influen탵ezi aceste st캒ri din interiorul componentei, s캒 zicem, la ap캒sarea unui buton sau la mi탳carea cursorului? S캒 analiz캒m acest lucru 칥n aceast캒 lec탵ie.</p><p><code>State</code> are o particularitate - este imutabil. Asta 칥nseamn캒 c캒 nu 칥l po탵i modifica direct (ca 탳i cum ar fi o variabil캒) 탳i nu se va produce re-renderizarea DOM-ului.</p><p>Pute탵i schimba valoarea st캒rii folosind metoda <code>setState</code> din <code>React.Component</code>. C칙nd apel캒m aceast캒 metod캒, React &quot;sub capot캒&quot; compar캒 starea componentei 칥nainte 탳i dup캒 modific캒ri. Dac캒 React detecteaz캒 diferen탵e, ReactDOM va re-renderiza elementul care s-a actualizat. S캒 examin캒m acest lucru pe un exemplu:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ThemeToggle</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&quot;light&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;dark&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;th-light&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;th-dark&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Theme <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme<span class="token punctuation">}</span> is enabled<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;游꺀&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;游&quot;</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ap캒sarea butonului apeleaz캒 metoda <code>toggleTheme</code>. 칉n interiorul acesteia se apeleaz캒 <code>setState</code>, unde verific캒m ce tem캒 este activat캒 탳i o schimb캒m 칥n cealalt캒.</p><h2 id="caracteristicile-metodei-setstate" tabindex="-1"><a class="header-anchor" href="#caracteristicile-metodei-setstate"><span>Caracteristicile metodei <code>setState</code></span></a></h2><p>Metoda <code>setState</code> are c칙teva particularit캒탵i importante de cunoscut:</p><ol><li><p>Ca argument, <code>this.setState</code> accept캒 fie o func탵ie, fie starea actualizat캒:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span>prevState<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sau</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dac캒 se folose탳te o func탵ie, 칥n interior vor fi accesibile st캒rile componentei 칥nainte de actualizare 탳i propriet캒탵ile curente ale componentei - <code>props</code>. 칉n unele componente complexe, prop-urile pot fi folosite pentru a implementa o logic캒 variabil캒 de aplicare a modific캒rilor. Dar, 칥n practic캒, ve탵i 칥nt칙lni rar astfel de utiliz캒ri ale metodei <code>setState</code>.</p></li><li><p><code>setState</code> are un al doilea argument, dar acesta este op탵ional. Ca al doilea argument, pute탵i trece o func탵ie de callback. Aceast캒 func탵ie va fi apelat캒 c칙nd modific캒rile sunt aplicate st캒rii componentei. Al doilea argument al metodei <code>setState</code> ar trebui folosit atunci c칙nd este necesar s캒 implementa탵i logare sau o logic캒 complex캒 secven탵ial캒 de modificare a st캒rilor 칥n componente:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">showForm</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showForm <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myCustomLogger</span><span class="token punctuation">(</span><span class="token string">&quot;Starea componentei s-a schimbat!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dar fi탵i aten탵i: nu permite탵i un ciclu infinit de actualiz캒ri 탳i callback-uri - acest lucru va duce la blocarea browserului.</p></li><li><p>Apelarea <code>setState</code> nu aplic캒 modific캒rile imediat. Aceasta este o metod캒 asincron캒. Un astfel de comportament se nume탳te batch update: permite acumularea modific캒rilor iminente, pentru a le aplica apoi 칥ntr-o singur캒 etap캒. Acest mecanism ajut캒 la 칥mbun캒t캒탵irea performan탵ei - reduc칙nd num캒rul de re-renderiz캒ri ale con탵inutului 칥n browser.</p></li></ol><h2 id="utilizarea-state-impreuna-cu-props" tabindex="-1"><a class="header-anchor" href="#utilizarea-state-impreuna-cu-props"><span>Utilizarea <code>state</code> 칥mpreun캒 cu <code>props</code></span></a></h2><p>Imagina탵i-v캒 c캒 ave탵i nevoie s캒 crea탵i un component cu un titlu 탳i un text</p><p>, care pot fi setate prin prop-uri. Textul este ascuns implicit 탳i ar trebui s캒 se dezv캒luie/ascund캒 la ap캒sarea pe titlu. S캒 proiect캒m un astfel de component 칥n React folosind <code>state</code> 탳i <code>props</code>:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CollapsableTextBlock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">onHeadingClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;CollapsableTextBlock&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onHeadingClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>header<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
				<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">}</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>칉n acest exemplu, am folosit <code>state</code> al componentei pentru a implementa func탵ionalitatea de ascundere 탳i dezv캒luire a textului, iar <code>props</code> - pentru a umple componenta cu text. Codul acestui component arat캒 astfel:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>CollapsableTextBlock header<span class="token operator">=</span><span class="token string">&quot;Titlu&quot;</span><span class="token operator">&gt;</span>
	Acest text va fi ascuns p칙n캒 la ap캒sarea pe titlu
<span class="token operator">&lt;</span><span class="token operator">/</span>CollapsableTextBlock<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Starea intern캒 a componentei poate fi folosit캒 ca prop pentru componenta copil. S캒 modific캒m u탳or componentul nostru:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">CollapsableTextContent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>toggled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CollapsableTextBlock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">onHeadingClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">toggled</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;CollapsableTextBlock&quot;</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onHeadingClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>header<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>CollapsableTextContent toggled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>toggled<span class="token punctuation">}</span><span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>CollapsableTextContent<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>칉n acest exemplu, am separat marcajul textului 탳i logica apari탵iei acestuia 칥n componenta independent캒 <code>CollapsableTextContent</code>. Aceast캒 component캒 prime탳te de la componenta p캒rinte <code>CollapsableTextBlock</code> prop-urile <code>children</code> 탳i <code>toggled</code>.</p><p>Trecerea prop-urilor prin mai multe niveluri de componente se nume탳te props drilling. Cu toate acestea, nu ar trebui s캒 abuza탵i de aceast캒 metod캒 de transmitere a prop-urilor prin ierarhia componentelor. Cu o astfel de abordare, apare o mare interdependen탵캒 칥ntre componente, ceea ce duce la sc캒derea calit캒탵ii codului 탳i a vitezei de dezvoltare. Dac캒 un prop trece prin trei sau mai multe niveluri de componente - ar trebui s캒 v캒 g칙ndi탵i la decompozi탵ia st캒rii 탳i a marcajului. Ne vom 칥ntoarce la aceast캒 problem캒 탳i la metodele de solu탵ionare a acesteia.</p><p>Combin칙nd <code>state</code> 탳i <code>props</code>, pute탵i crea componente flexibile 탳i convenabile.</p><h2 id="utilizarea-setstate-pentru-starea-ierarhica" tabindex="-1"><a class="header-anchor" href="#utilizarea-setstate-pentru-starea-ierarhica"><span>Utilizarea <code>setState</code> pentru starea ierarhic캒</span></a></h2><p>Uneori este necesar s캒 modifica탵i o proprietate 칥ncorporat캒 sau un element al unui tablou, f캒r캒 a atinge restul. Pentru astfel de cazuri, este convenabil s캒 folosi탵i operatorul <code>spread</code> (<code>...</code>):</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">NewsPanel</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token comment">// Starea componentei</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;News 1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;News 2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">commentsEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Huckleberry Finn&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">uuid</span><span class="token operator">:</span> <span class="token string">&quot;123e4567-e89b-12d3-a456-426655440000&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">lastActive</span><span class="token operator">:</span> <span class="token number">1614498769824</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Metoda responsabil캒 pentru ad캒ugarea</span>
	<span class="token function-variable function">addNewPost</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// Calcul캒m num캒rul 탳tirii ad캒ugate pe baza num캒rului curent de 탳tiri</span>
			<span class="token keyword">const</span> newPostNumber <span class="token operator">=</span> prevState<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				<span class="token comment">// P캒str캒m valorile curente asupra c캒rora nu efectu캒m ac탵iuni</span>
				<span class="token operator">...</span>prevState<span class="token punctuation">,</span>
				<span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token comment">// P캒str캒m lista curent캒 de 탳tiri</span>
					<span class="token operator">...</span>prevState<span class="token punctuation">.</span>posts<span class="token punctuation">,</span>
					<span class="token comment">// Ad캒ug캒m 칥n list캒 o nou캒 칥nregistrare cu num캒rul calculat</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">id</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">News </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>newPostNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
						<span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ID#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>post<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>post<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
					<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
				<span class="token punctuation">{</span><span class="token comment">/* La ap캒sarea pe buton va fi apelat캒 metoda addNewPost */</span><span class="token punctuation">}</span>
				<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addNewPost<span class="token punctuation">}</span><span class="token operator">&gt;</span>Add news<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>La ap캒sarea pe buton, 칥n tabloul <code>posts</code> va fi ad캒ugat 칥nc캒 un element. Elementele existente nu vor fi modificate, la fel ca 탳i restul cheilor st캒rii. Nu ar trebui s캒 complica탵i excesiv starea, 칥ncerca탵i s캒 aplica탵i mai des decompozi탵ia. Acest lucru va face dezvoltarea convenabil캒 탳i aplica탵ia performant캒.</p><p>칉n aceast캒 lec탵ie, a탵i aflat cum s캒 modifica탵i starea componentelor 탳i s캒 o utiliza탵i 칥mpreun캒 cu <code>props</code>. Abilitatea de a lucra cu starea este o abilitate important캒 pentru un dezvoltator React.</p>`,25),o=[p];function c(i,l){return a(),s("div",null,o)}const u=n(e,[["render",c],["__file","stateupdate.html.vue"]]),d=JSON.parse('{"path":"/base/stateupdate.html","title":"Cum s캒 modifici starea 칥n componentele React","lang":"ro-RO","frontmatter":{"title":"Cum s캒 modifici starea 칥n componentele React","lang":"ro-RO","description":"Cum s캒 modifici starea 칥n componentele React Deja 탳ti탵i c캒 starea intern캒 permite influen탵area logicii de func탵ionare 탳i a red캒rii elementelor. Dar cum s캒 influen탵ezi aceste st캒...","head":[["meta",{"property":"og:url","content":"https://react.md/base/stateupdate.html"}],["meta",{"property":"og:site_name","content":"React.js - Curs de Dezvoltare"}],["meta",{"property":"og:title","content":"Cum s캒 modifici starea 칥n componentele React"}],["meta",{"property":"og:description","content":"Cum s캒 modifici starea 칥n componentele React Deja 탳ti탵i c캒 starea intern캒 permite influen탵area logicii de func탵ionare 탳i a red캒rii elementelor. Dar cum s캒 influen탵ezi aceste st캒..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ro-RO"}],["meta",{"property":"og:updated_time","content":"2024-03-09T11:18:09.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-09T11:18:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cum s캒 modifici starea 칥n componentele React\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-09T11:18:09.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Caracteristicile metodei setState","slug":"caracteristicile-metodei-setstate","link":"#caracteristicile-metodei-setstate","children":[]},{"level":2,"title":"Utilizarea state 칥mpreun캒 cu props","slug":"utilizarea-state-impreuna-cu-props","link":"#utilizarea-state-impreuna-cu-props","children":[]},{"level":2,"title":"Utilizarea setState pentru starea ierarhic캒","slug":"utilizarea-setstate-pentru-starea-ierarhica","link":"#utilizarea-setstate-pentru-starea-ierarhica","children":[]}],"git":{"updatedTime":1709983089000,"contributors":[{"name":"nikba","email":"41567806+Nikba-Creative-Studio@users.noreply.github.com","commits":1}]},"filePathRelative":"base/stateupdate.md","autoDesc":true}');export{u as comp,d as data};
